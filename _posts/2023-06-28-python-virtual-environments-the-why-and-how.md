---
layout: post
title: "Python Virtual Environments: The Why and How"
date: 2023-06-28 00:01:57 +0000
canonical_url: https://pub.towardsai.net/python-virtual-environments-the-why-and-how-4e0df7adc1c?source=rss-8c8a65726e4c------2
link: https://pub.towardsai.net/python-virtual-environments-the-why-and-how-4e0df7adc1c?source=rss-8c8a65726e4c------2
categories: [medium]
---

<h4>This article describes the benefits of Python virtual environments and how they streamline the development processes. Further, we discuss the venv API provided for the usage of virtual environments.</h4><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/0*9hH7Gy82__UdnhHx" /><figcaption>Image by <a href="https://www.pexels.com/photo/python-book-1181671/">Christina Morillo from Pexels</a></figcaption></figure><h3>Why use Python Virtual Environments</h3><p>Consider a scenario. You are a Machine Learning developer and are working on a Python project. The project requires Tensorflow 2.0 and you have installed it using pip. The project works seamlessly and you keep working on the project without any hassle.</p><p>However, you are given another task on the side. The new project requires Tensorflow 1.0 for development. Now you have run into a problem. You can not work on both tasks simultaneously, as the project dependencies contradict. Either you can reinstall packages each time you want to work on a specific project, or you can use Python Virtual Environments for ease!</p><h3>Benefits of Virtual Environments</h3><h4><strong>Isolation</strong></h4><p>With virtual environments, you can isolate both projects and work independently on both simultaneously. All that will be required is a simple command to change the environment, and changes in one environment will be completely independent of other environments.</p><h4><strong>Dependency Management</strong></h4><p>Any packages installed in one project environment will not contradict the packages installed in the other environment. Therefore, you can have Tensorflow 2.0 in one environment and Tensorflow 1.0 in the other environment. Being isolated from each other, there will be no dependency clash, and you will be able to work on both without needing to reinstall packages each time.</p><h4><strong>Portability</strong></h4><p>Now extending the same scenario, consider you complete a project and forget about it. After some time, you face an error that needs to be corrected. However, it has been so long that you have forgotten about the dependencies and exact versions of packages that were used during project development.</p><p>Python virtual environments can help solve such problems as each environment can be frozen and all dependencies can be saved. Therefore, during or after development, it becomes easier to share code seamlessly. All that needs to be done is share a requirements file that limits setting up a project to a single command. Therefore, reproducing an environment is easier on any development machine.</p><h3>How to Use Python Virtual Environments</h3><p>Python virtual environments are limited to a project directory. They are built on an existing <strong>base environment</strong>. The base environment is the default environment active when you install a Python interpreter. All packages are installed in this environment unless you explicitly change an environment.</p><h3>Prerequisites</h3><p>To use virtual environments, you first need to install the virtualenv package.</p><pre>python -m pip install virtualenv</pre><p>For Debian/Ubuntu OS, you need to additionally install a python3-venv package. Use the command:</p><pre>sudo apt install python3.xx-venv</pre><p>Where <strong>“xx” </strong>represents the Python version in the base environment. For example, if you have Python version 3.10, use the command:</p><pre>sudo apt install python3.10-venv</pre><p>You can check the Python version using:</p><pre>python -–version</pre><h3>Creating an Environment</h3><p>Once all dependencies are installed, you can start working with environments.</p><p>To create an environment, switch to the project directory. Now considering you want to create an environment named “my_env”, run the command:</p><p><strong>python</strong> -m venv my_env</p><pre>python -m venv my_env</pre><p>This creates a folder name my_env in the current project directory. This represents a lightweight directory that holds all dependencies specific to this environment and project.</p><h3>Activating an Environment</h3><p>Although an environment is created, you are still in the base environment and need to explicitly activate the new environment. To activate an environment use:</p><p>On <strong>Windows</strong> PowerShell:</p><pre>&lt;venv&gt;\Scripts\Activate.ps1</pre><p>On <strong>Linux</strong> Bash terminals:</p><pre>source &lt;venv&gt;/bin/activate</pre><p>Where <em>&lt;venv&gt;</em> represents the path to the root project directory. If you are in the project directory, you can omit this part and use relative paths. For our current environment example, &lt;venv&gt; should be replaced with my_env or absolute path to my_env directory.</p><p>Once you are in an environment, the terminal will highlight the active environment. For example, <strong>(my_env) </strong>will be visible on the command line. This is used to verify the current environment. Moreover, you can use the command:</p><pre>pip -V</pre><p>This will display the pip version with the path of the current environment that can be used to verify the currently active environment.</p><p>Once active, all packages will be installed in this current environment and will not affect the base or other virtual environments. So you can work in isolation on the current project.</p><h3>Freezing Environment Dependencies</h3><p>Once the project is working and all dependencies are installed correctly, you can share the environment so that the project can be set up by someone on another development machine. This makes it easier to work in collaboration with other developers and share code through GitHub.</p><p>To freeze environment dependencies:</p><pre>pip freeze -r requirements.txt</pre><p>This will create a requirements.txt file in the current project directory, that will list all the packages installed in the environment. This text file can be used to reproduce an environment using the command:</p><pre>python -m pip install -r requirements.txt</pre><h3>Deactivating an Environment</h3><p>Once work is complete or you want to switch to another environment, it is better to deactivate an environment. To do so, run the command:</p><pre>deactivate</pre><p>This will switch you back to the base Python environment.</p><h3>Conclusion</h3><p>This article introduced the basic nuts and bolts of Python virtual environments. Using the environment is a necessity, and all projects need to be shared and reproduced in development as well as production. They isolate each project’s dependencies and help solve dependency clashes which is a major nuance during development.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=4e0df7adc1c" width="1" height="1" alt=""><hr><p><a href="https://pub.towardsai.net/python-virtual-environments-the-why-and-how-4e0df7adc1c">Python Virtual Environments: The Why and How</a> was originally published in <a href="https://pub.towardsai.net">Towards AI</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>